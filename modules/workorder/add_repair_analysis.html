<ion-view title='{{"workorder.add_repair_analysis.workOrder" | translate}}'>
    <ion-nav-buttons side="right">
        <div syncup></div>
        <div offline></div>
        <div username></div>
    </ion-nav-buttons>
    <ion-content>
        <div class="add-repair-analysis">
            <div class="row detail-top-blue-banner white-btm-border module-detail">
                <div class="col">
                    <h3 ng-bind="(RA.raId && RA.raId != 'null') ? ('workorder.add_repair_analysis.editRepairAnalysis' | translate): ('workorder.add_repair_analysis.newwRepairAnalysis' | translate)"> </h3>
                </div>
            </div>
            <form name="RA.RAForm" novalidate="" ng-submit="RA.RASave(RA.RAForm);">
                <div class="row" ng-if="!RA.raId || RA.raId == 'null'">
                    <div class="col">
                        <!-- <div class="mar-top-20"> Work Order ID: <a href="#/app/workorder/{{::RA.workorderId}}">{{::RA.workOrderName.Name}}</a></div> -->
                        <div class="mar-top-20"> {{"workorder.add_repair_analysis.workOrderID" | translate}} {{::RA.workOrderName.Name}}</div>
                    </div>
                    <div class="col">
                        <label class="item-input item-floating-label">
                            <span class="input-label">{{"workorder.add_repair_analysis.activityNumber" | translate}}</span>
                            <input type="text" name="activity" ng-model="RA.selected_activity_name">
                        </label>
                    </div>
                    <div class="col col-10 padding-top-25">
                        <button class="button-icon icon" ng-click="RA.showActivities()"><i class="ion-search size-24" ></i></button>
                    </div>
                </div>
                <div class="row ">
                    <div class="col images ">
                        <select name="status " id="status " class="select_parent_width custom-select " ng-model="RA.data.status ">
                            <option value=" ">{{"workorder.add_repair_analysis.status" | translate}}</option>
                            <option value="Open ">{{"workorder.add_repair_analysis.open" | translate}}</option>
                            <option value="In Progress ">{{"workorder.add_repair_analysis.inProgress" | translate}}</option>
                            <option value="Completed ">{{"workorder.add_repair_analysis.completed" | translate}}</option>
                            <option value="Uninstalled ">{{"workorder.add_repair_analysis.unInstalled" | translate}}</option>
                            <option value="Installed ">{{"workorder.add_repair_analysis.installed" | translate}}</option>
                        </select>
                    </div>
                </div>
                <div class="row ">
                    <div class="col images ">
                        <select name="action " id="status " class="select_parent_width custom-select " ng-model="RA.data.action ">
                            <option value=" ">{{"workorder.add_repair_analysis.action" | translate}}</option>
                            <option value="Initiate Repair ">{{"workorder.add_repair_analysis.initiateRepair" | translate}}</option>
                            <option value="Loaner Item ">{{"workorder.add_repair_analysis.loanerItem" | translate}}</option>
                            <option value="Loaner pick-up Completed ">{{"workorder.add_repair_analysis.loanerPickUpCompleted" | translate}}</option>
                            <option value="Outbound Delivery Items ">{{"workorder.add_repair_analysis.outboundDeliveryItems" | translate}}</option>
                            <option value="Perform Repairs ">{{"workorder.add_repair_analysis.performRepairs" | translate}}</option>
                            <option value="Procuring Items ">{{"workorder.add_repair_analysis.procuringItems" | translate}}</option>
                            <option value="Scrap the goods ">{{"workorder.add_repair_analysis.scrapTheGoods" | translate}}</option>
                        </select>
                    </div>
                </div>
                <div class="row ">
                    <div class="col ">
                        <label class="item-input item-floating-label ">
                            <span class="input-label ">{{"workorder.add_repair_analysis.comments" | translate}}</span>
                            <textarea name="comments " id=" " cols="30 " rows="5 " ng-model="RA.data.comments " ng-maxlength="240 "></textarea>
                        </label>
                        <div class="form-errors " ng-messages="RA.RAForm.comments.$error " ng-show='RA.RAForm.$submitted || RA.RAForm.comments.$dirty'>
                          <div class="form-error " ng-message="maxlength "> {{"workorder.add_repair_analysis.valueTooLong" | translate}} <i class="ion-information-circled "></i> </div>
                        </div>
                    </div>
                </div>
                <div class="row " ng-if="RA.raId.length> 4 && RA.raId != 'null'">
                            <div class="col">
                                <label class="item-input item-floating-label">
                                    <span class="input-label">{{"workorder.add_repair_analysis.reasonForChange" | translate}}</span>
                                    <textarea name="change_reason" id="" cols="30" rows="5" ng-required="true" ng-model="RA.data.change_reason" ng-maxlength="240"></textarea>
                                </label>
                                <div class="form-errors" ng-messages="RA.RAForm.change_reason.$error" ng-show='RA.RAForm.$submitted || RA.RAForm.change_reason.$dirty'>
                                    <div class="form-error" ng-message="required">{{"workorder.add_repair_analysis.fieldRequired" | translate}}<i class="ion-information-circled"></i> </div>
                                    <div class="form-error" ng-message="maxlength"> {{"workorder.add_repair_analysis.valueTooLong" | translate}} <i class="ion-information-circled"></i> </div>
                                </div>
                            </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <input type="submit" class="button button-positive" value='{{"workorder.add_repair_analysis.save" | translate}}'>
                        </div>
                        <div class="col">
                            <span class="button button-outline  button-assertive" ng-click="RA.backToWorkOrder()">
                    {{"workorder.add_repair_analysis.cancel" | translate}}
                </span>
                        </div>
                        <div class="col"></div>
                        <div class="col"></div>
                        <div class="col"></div>
                    </div>
            </form>
            </div>
    </ion-content>
</ion-view>